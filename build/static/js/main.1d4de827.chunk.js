(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{23:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t.n(c),a=t(17),o=t.n(a),i=(t(23),t(18)),u=t(8),s=t(3),d=t(4),l=t.n(d),j=t(0),b=function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)("p",{children:[e.name," ",e.number," ",Object(j.jsx)("button",{onClick:function(){e.handleDelete(e.id,e.name)},children:"delete"})]})})},h=function(e){var n=e.persons;return e.showFilter&&(n=e.persons.filter((function(n){return n.name.toLowerCase().includes(e.showFilter.toLowerCase())}))),Object(j.jsx)("div",{children:n.map((function(n){return Object(j.jsx)(b,{name:n.name,number:n.number,id:n.id,handleDelete:e.handleDelete},n.id)}))})},f=function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:"filter shown with"}),Object(j.jsx)("input",{value:e.name,onChange:e.onChange})]})},m=function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{children:["name: ",Object(j.jsx)("input",{onChange:e.updateNewName,value:e.newName})]}),Object(j.jsxs)("div",{children:["number"," ",Object(j.jsx)("input",{onChange:e.updateNewNumber,value:e.newNumber})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{type:"submit",onClick:e.handleClick,children:"add"})})]})})},O="/api/persons",p=function(){return l.a.get(O).then((function(e){return e.data}))},v=function(e){return l.a.post(O,e).then((function(e){return e.data}))},x=function(e){return l.a.delete("".concat(O,"/").concat(e)).then((function(e){return e.data}))},w=function(e,n){return l.a.put("".concat(O,"/").concat(e),n).then((function(e){return e.data}))},g=function(e){var n=e.message,t=e.errorMsg;return null===n&&null===t?null:t?Object(j.jsxs)("div",{className:"error",children:[" ",t]}):Object(j.jsx)("div",{className:"statusNotification",children:n})},N=function(){var e=Object(c.useState)([]),n=Object(s.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(""),o=Object(s.a)(a,2),d=o[0],l=o[1],b=Object(c.useState)(""),O=Object(s.a)(b,2),N=O[0],C=O[1],k=Object(c.useState)(""),S=Object(s.a)(k,2),D=S[0],F=S[1],y=Object(c.useState)(null),I=Object(s.a)(y,2),L=I[0],T=I[1],M=Object(c.useState)(null),P=Object(s.a)(M,2),B=P[0],E=P[1];Object(c.useEffect)((function(){p().then((function(e){r(e)}))}),[]);return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Phonebook"}),Object(j.jsx)(g,{message:L,errorMsg:B}),Object(j.jsx)(f,{name:D,onChange:function(e){F(e.target.value)}}),Object(j.jsx)(m,{updateNewName:function(e){l(e.target.value)},newName:d,updateNewNumber:function(e){C(e.target.value)},newNumber:N,handleClick:function(e){e.preventDefault();var n={name:d,number:N},c=t.find((function(e){return e.name===d}));if(c){if(!0===window.confirm("".concat(d," is already added to phonebook, replace the old number with a new one? "))){var a=Object(u.a)(Object(u.a)({},c),{},{number:N}),o=c.id;w(o,a).then((function(e){T("Updated ".concat(d)),setTimeout((function(){T(null)}),5e3),r(t.map((function(n){return n.id!==o?n:e})))})).catch((function(e){E("Information of ".concat(d," has already been removed from the server"))}))}}else v(n).then((function(e){var n=Object(i.a)(t);r(n.concat(e)),l(""),C(""),T("Added ".concat(d)),setTimeout((function(){T(null)}),5e3)}))}}),Object(j.jsx)("h2",{children:"Numbers"}),Object(j.jsx)(h,{persons:t,showFilter:D,handleDelete:function(e,n){!0===window.confirm("Delete ".concat(n," ?"))&&x(e).then((function(n){var c=t.filter((function(n){return n.id!==e}));r(c)})).catch((function(e){T("Information of ".concat(n," has already been removed from server")),C("")}))}})]})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,44)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(N,{})}),document.getElementById("root")),C()}},[[43,1,2]]]);
//# sourceMappingURL=main.1d4de827.chunk.js.map