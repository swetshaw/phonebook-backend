(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{23:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t.n(c),a=t(17),o=t.n(a),i=(t(23),t(18)),u=t(8),s=t(3),d=t(0),l=function(e){return Object(d.jsx)("div",{children:Object(d.jsxs)("p",{children:[e.name," ",e.number," ",Object(d.jsx)("button",{onClick:function(){e.handleDelete(e.id,e.name)},children:"delete"})]})})},j=function(e){var n=e.persons;return e.showFilter&&(n=e.persons.filter((function(n){return n.name.toLowerCase().includes(e.showFilter.toLowerCase())}))),Object(d.jsx)("div",{children:n.map((function(n){return Object(d.jsx)(l,{name:n.name,number:n.number,id:n.id,handleDelete:e.handleDelete},n.id)}))})},b=function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:"filter shown with"}),Object(d.jsx)("input",{value:e.name,onChange:e.onChange})]})},h=function(e){return Object(d.jsx)("div",{children:Object(d.jsxs)("form",{children:[Object(d.jsxs)("div",{children:["name: ",Object(d.jsx)("input",{onChange:e.updateNewName,value:e.newName})]}),Object(d.jsxs)("div",{children:["number"," ",Object(d.jsx)("input",{onChange:e.updateNewNumber,value:e.newNumber})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",onClick:e.handleClick,children:"add"})})]})})},f=t(5),m=t.n(f),O="/api/persons",p=function(){return m.a.get(O).then((function(e){return e.data}))},v=function(e){return m.a.post(O,e).then((function(e){return e.data}))},x=function(e){return m.a.delete("".concat(O,"/").concat(e)).then((function(e){return e.data}))},w=function(e,n){return m.a.put("".concat(O,"/").concat(e),n).then((function(e){return e.data}))},g=function(e){var n=e.message,t=e.errorMsg;return null===n&&null===t?null:t?Object(d.jsxs)("div",{className:"error",children:[" ",t]}):Object(d.jsx)("div",{className:"statusNotification",children:n})},N=function(){var e=Object(c.useState)([]),n=Object(s.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(""),o=Object(s.a)(a,2),l=o[0],f=o[1],m=Object(c.useState)(""),O=Object(s.a)(m,2),N=O[0],C=O[1],k=Object(c.useState)(""),S=Object(s.a)(k,2),D=S[0],F=S[1],y=Object(c.useState)(null),T=Object(s.a)(y,2),I=T[0],L=T[1],M=Object(c.useState)(null),P=Object(s.a)(M,2),B=P[0],E=P[1];Object(c.useEffect)((function(){p().then((function(e){r(e)}))}),[]);return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Phonebook"}),Object(d.jsx)(g,{message:I,errorMsg:B}),Object(d.jsx)(b,{name:D,onChange:function(e){F(e.target.value)}}),Object(d.jsx)(h,{updateNewName:function(e){f(e.target.value)},newName:l,updateNewNumber:function(e){C(e.target.value)},newNumber:N,handleClick:function(e){e.preventDefault();var n={name:l,number:N},c=t.find((function(e){return e.name===l}));if(c){if(!0===window.confirm("".concat(l," is already added to phonebook, replace the old number with a new one? "))){var a=Object(u.a)(Object(u.a)({},c),{},{number:N}),o=c.id;w(o,a).then((function(e){L("Updated ".concat(l)),setTimeout((function(){L(null)}),5e3),r(t.map((function(n){return n.id!==o?n:e})))})).catch((function(e){E("Information of ".concat(l," has already been removed from the server"))}))}}else v(n).then((function(e){var n=Object(i.a)(t);r(n.concat(e)),f(""),C(""),L("Added ".concat(l)),setTimeout((function(){L(null)}),5e3)})).catch((function(e){E(e.response.data.error),setTimeout((function(){E(null)}),5e3)}))}}),Object(d.jsx)("h2",{children:"Numbers"}),Object(d.jsx)(j,{persons:t,showFilter:D,handleDelete:function(e,n){!0===window.confirm("Delete ".concat(n," ?"))&&x(e).then((function(n){var c=t.filter((function(n){return n.id!==e}));r(c)})).catch((function(e){L("Information of ".concat(n," has already been removed from server")),C("")}))}})]})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,44)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(N,{})}),document.getElementById("root")),C()}},[[43,1,2]]]);
//# sourceMappingURL=main.9e675520.chunk.js.map